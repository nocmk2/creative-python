## 函数式编程
目前主流的编程范式有两种 :
* 面向对象编程(Object Oriented Programming)
* 函数式编程(Functional Programming)

我们经常接触的 sql 属于声明式（Declarative Programming），但是sql本身的规范是图灵不完整的，可以理解成没有循环逻辑判断等导致表达能力有限。

python是多范式编程语言(oop和fp)，函数式编程的能力让它能快速处理数据和进行分布式运算。因此在数据科学中应用最为广泛

现在我们来学习python中的高阶函数,高阶函数是一种函数式的表现形式，函数式的思想来源于数学，和lambda演算关系密切，因此我们从lambda匿名函数开始。

## 匿名函数
>编程最难的两件事一件是缓存失效还有一件是命名

所以我们决定不给函数起名字

这是一个常规函数，它的名字是```f```
``` python
def f(a):
   return a+1 
```

这是一个匿名函数
``` python
lambda x: x+1
```

这两者等价，区别只是lamdba函数没有名字，不能单独调用，只能作为值传递高阶函数。我们看一下lambda在高阶函数中怎么用

## 内置高阶函数 filter 
``` python
a = ['B','NULL','ABA','CC','NULL','CA']
i = filter(lambda x:x=='NULL', a)
res = list(i)
print(res) # ['B', 'ABA', 'CC', 'CA']
```
代码中的filter就是高阶函数（High Order Function）,**高阶函数是指函数的参数是另一个函数或者返回值是函数**,第一个参数```lambda x:if x=='NULL'```是一个lambda函数也称匿名函数 , 它的作用是过滤掉列表```a```中的```NULL```值,我们的匿名函数会**作用**在```a```的每一个元素上,```filter```会负责过滤掉匿名函数返回为```false```的元素。



## 内置高阶函数 map 
``` python
a = [34, 35, 27, 16, 12, 29]

def handle(v):
    return str(v + 1) + "C"

temp = map(handle, a)
print(list(temp))  # ['35C', '36C', '28C', '17C', '13C', '30C']
```
```a```的每个元素被handle函数处理，返回和原先a一样长度的数组


## 内置高阶函数 reduce 
``` python
    a = [1800, 1900, 800, 1800, 900, 1900]
    up,down = 0,0

    def f(a1, a2):
        global up,down
        c = a2 - a1
        if c > 0:
            up += c
        else:
            down += c
        return a2

    reduce(f, a)
    print(up) # 2100
    print(down) # -2000
```

## 自己写高阶函数 

``` python
def sum(a,b):
    return a+b
add = sum
print(add(3,4))  # 7
```

``` python
def plus(funcb,a,b):
    def plus_one():
        return 1 + funcb(a,b)
    return inner_func

p = plus(add,3,4)
print(p) # <function plus.<locals>.plus_one at 0x105d38170>
print(p()) # 8
plus.plus_one(3, 4) # 这里会报错 我们没法直接访问内部函数
```

### pandas中的高阶函数


### 装饰器函数